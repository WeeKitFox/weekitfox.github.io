<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="Offres.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RollerMarket - Ventes et Offres</title>
    <link rel="icon" type="image/png" href="rollercoin-logo.png">
    <details>
        <summary></summary>
        <nav class="menu">
          <a href="index.html">Accueil</a>
          <a href="Offres.html">Meilleures offres</a>
          <a href="Calculator.html">Rollercoin calculator</a>
          <a href="event.html">évènement</a>
          <a href="math.html">Calculs - renta/prix</a>
          <a href="Apropos.html">À propos</a>
        </nav>
      </details>
</head>
<body>


  
  <div id="container">
  </div>
  
  <style>
    #container {
      display: flex;
      flex-direction: row;
    }
  </style>

<button id="addColumn">Ajouter votre article</button>

<script>
  document.getElementById("addColumn").addEventListener("click", function() {
  document.getElementById("overlay").style.display = "block";
});
</script>

<style>
    #addColumn {
    background-color: rgb(52, 50, 66);
    color: white;
    padding: 16px 20px;
    border: none;
    cursor: pointer;
    border-radius: 4px;
    text-align: center;
    font-size: 16px;
    margin-top: 20px;
    margin-left: 20px; /* ajout de la marge gauche */
    }
    
    #addColumn:hover {
    background-color: rgb(46, 44, 58);
    }
</style>


<style>
  #searchForm {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 50px;
  }
  
  #searchForm form {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  #searchForm input {
    margin-right: 10px;
  }
  
  #searchForm button {
    background-color: rgb(52, 50, 66);
    color: white;
    padding: 16px 20px;
    border: none;
    cursor: pointer;
    border-radius: 4px;
    text-align: center;
    font-size: 16px;
  }
  
  #searchForm button:hover {
    background-color: rgb(46, 44, 58);
  }
</style>
<br>
<br>
<div id="searchForm">
  <form>
    <input type="text" id="searchInput2" placeholder="Rechercher par miner">
    <button id="searchBtn2">Rechercher</button>
  </form>
</div>

<script>
  document.getElementById("searchBtn2").addEventListener("click", function(event) {
    event.preventDefault();
    // Récupérer la valeur de la barre de recherche
    var searchValue = document.getElementById("searchInput2").value.toLowerCase();
  
    // Cibler tous les rectangles
    var rectangles = document.querySelectorAll(".new-rectangle");
  
    // Boucle à travers les rectangles
    for (var i = 0; i < rectangles.length; i++) {
      // Récupérer le contenu du miner
      var miner = rectangles[i].querySelector("p:first-of-type").textContent.toLowerCase();
      
      // Si la valeur de la barre de recherche est contenue dans le miner
      if (miner.includes(searchValue)) {
        // Afficher le rectangle
        rectangles[i].style.display = "block";
      } else {
        // Masquer le rectangle
        rectangles[i].style.display = "none";
      }
    }
  });
  </script>

<div id="rectangleContainer">
  <!-- Les rectangles seront ajoutés ici -->
</div>


            <div id="overlay" style="display: none;">
              <div id="dialog">
                <div id="closeBtn">&times;</div>
                <h3>Recherche :</h3>
                <input type="text" id="searchInput">
                <button id="searchBtn">Reset</button>
                <h3>Miner :</h3>
                <select id="minerList">
                  <option value="category1">Unicorn Dancer</option>
                  <option value="category2">Lapin</option>
                  <option value="category3">Unicorn Dancer 2</option>
                </select>
                <h3>Lien du miner :</h3>
                <textarea id="link" style="width: 280px; height: 30px;" maxlength="69"></textarea>
                
                <h3>Prix :</h3>
                <textarea id="prix" style="width: 100px; height: 15px;" maxlength="6"></textarea>
                
                <h3>Description :</h3>
                <textarea id="publier" style="width: 280px; height: 45px;" maxlength="56"></textarea>
                <button id="publishBtn">Publier</button>
              </div>
            </div>

            <form action="sauvegarder_donnees.php" method="post">


            <div class="new-rectangle-container">
            </div>
            

            
            <script>
$("#publishBtn").click(function() {
  var selectedMiner = $("#minerList").val();
  var link = $("#link").val();
  var prix = $("#prix").val();
  var publier = $("#publier").val();


                
                // Créer un nouveau rectangle gris
                var newRectangle = document.createElement("div");
  newRectangle.classList.add("new-rectangle");
  newRectangle.innerHTML = `
    <p>Miner : ${selectedMiner}</p>
    <p>Lien : <a href="${link}" target="_blank">Voir</a></p>
    <p>Prix : ${prix} rlt</p>
    <p>Description : ${publier}</p>
  `;
                
                // Ajouter le nouveau rectangle gris à la page
                document.querySelector(".new-rectangle-container").appendChild(newRectangle);
              
                // Fermer la fenêtre en masquant le contenu de l'overlay
                document.getElementById("overlay").style.display = "none";
              });
              </script>
            
            <style>
            #rectangleContainer {
              display: flex;
              flex-direction: row;
              margin-top: 20px;
            }
            
            .new-rectangle-container {
  display: flex;
  flex-wrap: wrap;
}

.new-rectangle {
  width: calc(100% / 3 - 20px);
  height: 100px;
  margin: 10px;
  background-color: gray;
  text-align: center;
  overflow: hidden;
}
            </style>
            
<script>
  var rectangles = document.querySelectorAll(".new-rectangle");
var counter = rectangles.length % 3;
if (counter === 0) {
  var newLine = document.createElement("br");
  document.body.appendChild(newLine);
}
</script>

<script>
document.getElementById("searchBtn").addEventListener("click", function() {
  document.getElementById("searchInput").value = "";
  document.getElementById("minerList").innerHTML = `
    <option value="category1">Unicorn Dancer</option>
    <option value="category2">Lapin</option>
    <option value="category3">Unicorn Dancer 2</option>
  `;
});

</script>

<script>
  document.getElementById("searchInput").addEventListener("keyup", function() {
    // Récupérer la valeur entrée dans la barre de recherche
    var searchValue = this.value.toLowerCase();
    
    // Récupérer la liste déroulante
    var minerList = document.getElementById("minerList");
    
    // Récupérer toutes les options dans la liste
    var options = minerList.options;
    
    // Filtrer les options en fonction de la valeur entrée dans la barre de recherche
    var filteredOptions = Array.from(options).filter(function(option) {
      return option.text.toLowerCase().includes(searchValue);
    });
    
    // Supprimer toutes les options de la liste déroulante
    minerList.innerHTML = "";
    
    // Ajouter les options filtrées à la liste déroulante
    filteredOptions.forEach(function(option) {
      minerList.add(option);
    });
  });
</script>

            
            <style>

              #overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
              }
              #dialog {
                background-color: #E0E0E0;
                border: 1px solid gray;
                border-radius: 10px;
                padding: 20px;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 350px;
                height: 520px;
              }
              #closeBtn {
                position: absolute;
                top: 10px;
                right: 10px;
                font-size: 20px;
                cursor: pointer;
              }

              textarea
              {
                resize : none;
              }

.new-rectangle {
  background-color: #E0E0E0;
  padding: 10px;
  border-radius: 10px;
  width: 594px;
  height: 225px;
}



            </style>



</body>
</html>

